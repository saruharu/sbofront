<sb-layout-dashboard>
    <sb-dashboard-head title="Sélection des factures" [hideBreadcrumbs]="false"></sb-dashboard-head>
    <div>
        <sb-card>
            <div class="card-header">Informations Chèque</div>
            <div class="card-body">
                <form> 
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="small mb-1" for="inputText">CNUF</label>
                                <input class="form-control form-control-sm" id="inputText" type="number"
                                 readonly [(ngModel)]="chequeSaisi.fournisseur.cnuf" name="cnuf"/>

                                 
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="small mb-1" for="inputText">Cheque numero</label>
                                <input class="form-control form-control-sm" id="inputText" type="number"
                                [(ngModel)]="chequeSaisi.numCheque" name="numCheque"
                                 readonly  />
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="small mb-1" for="inputText">Montant</label>
                                <input class="form-control form-control-sm" id="inputText" type="number" 
                                [(ngModel)]="chequeSaisi.montant" name="montant"
                                readonly />
                            </div>
                        </div>
                    </div>
        
                </form>
            </div>
        </sb-card>        
        <sb-card class="col order-1 justify-content-around">
            <div class="card-header">
                Factures non payées
            </div>
            <div class="card-body">          
                <div class="row">
                    <div class="col-6"></div>
                    <div class="form-group form-inline col-6">Montant restant: 
                        <input class="form-control ml-2" type="text" name="searchTerm" readonly [(ngModel)]="ecart" /></div>
                </div>
                <form #f="ngForm" (ngSubmit)="onCheckFact()">                 
                <table class="table table-striped">
                     <thead>
                        <tr>
                                    <th scope="col">CNUF</th>
                                    <th scope="col">Fournisseur</th>
                                    <th scope="col">Date Facture</th>
                                    <th scope="col">Num Facture</th>
                                    <th scope="col">Montant</th>
                                    <th scope="col">
                                        <input type="checkbox" (change)='onSelectAll($event)'>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let f of factAg._embedded.factureAgressoes">


                                    <td>{{f.fournisseur.cnuf}}</td>
                                    <td>{{f.fournisseur.libelleFrs}}</td>
                                    <td>{{f.dateFactAg}}</td>
                                    <td>{{f.numFactAg}}</td>
                                    <td> {{f.montant  | number:'.2'}}</td>
                                    <td> 
                                        <input type="checkbox" (change)='onSelect($event,f)'>
                                    </td>
                                    

                                    
                                    
                                </tr>
                            </tbody>
                        </table>



                        <div class="form-group d-flex align-items-center justify-content-around mt-4 mb-0 float-center">
                            <div><button class="btn btn-secondary" [routerLink]="'/cheque/paiementCheque'">Retour</button></div>
                            <div><button class="btn btn-danger" type="reset" >Annuler</button></div>
                            <div><button class="btn btn-primary" type="submit" >Suivant</button></div>
                
                        </div>
                    </form>

            </div>
        </sb-card>
    


        
        
    </div>
</sb-layout-dashboard>

